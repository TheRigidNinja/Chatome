(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{116:function(e,t){},119:function(e,t,a){},120:function(e,t,a){},121:function(e,t,a){},122:function(e,t,a){},123:function(e,t,a){},124:function(e,t,a){e.exports=a.p+"static/media/story.00958436.svg"},130:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(32),s=a.n(r);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=a(21),i=a(4),o={},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;return"UPDATE"===t.type?Object(i.a)({},e,t.data):"LATESTCHATS"===t.type?Object(i.a)({},e,{latestChats:t.stutas}):o},u={},p=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&arguments[1];return u},g={},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;return"SERVERID"===t.type?Object(i.a)({},e,t.data):g},f=Object(c.b)({ProfileDB:m,MessagingDB:p,ServerIDReducer:d}),h=a(17),E=(a(77),a(7)),v=a(8),y=a(10),S=a(9),b=a(11),N=a(66),P=a(19),D=a(25),C=a.n(D),k=a(41),I=(a(79),a(60)),w=a.n(I).a.initializeApp({apiKey:"AIzaSyBa292saQfeQuy-uSq0kur6Zu2UeUdmfuQ",authDomain:"chatapp-66db3.firebaseapp.com",databaseURL:"https://chatapp-66db3.firebaseio.com",projectId:"chatapp-66db3",storageBucket:"chatapp-66db3.appspot.com",messagingSenderId:"545363742777",appId:"1:545363742777:web:dc3890605187645d"}),M=a(62),j=a.n(M),O=(a(89),a(63)),x=a.n(O),T=function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(y.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(l)))).state={toggleProfile:"default",profilePic:x.a,options:{left:"calc(100% - 79px)",width:"54.4px"}},a.defaultPage=function(){a.handleProfilePicToState(a.state.profilePic)},a.setRef=function(e){a.webcam=e},a.capture=function(){var e=a.webcam.getScreenshot();a.handleProfilePicToState(e)},a.toggleCamera=function(){a.setState({toggleProfile:a.checkTouchDevice()?"Phone_Camera":"Computer_Camera"},function(){if("Phone_Camera"===a.state.toggleProfile){var e=document.querySelector(".uploadImage");e.addEventListener("change",function(e){a.handleChangeEvent(e)}),e.click()}})},a.uploadImage=function(){a.setState({toggleProfile:"UploadImage"},function(){var e=document.querySelector(".uploadImage");e.addEventListener("change",function(e){a.handleChangeEvent(e)}),e.click()})},a.linkedImage=function(){a.setState({toggleProfile:"LinkedImage"})},a.submitLink=function(){var e=document.querySelector(".urlImage").value;new RegExp(".jpeg|.jpg|.png|.gif");/(\.jpeg|\.jpg|\.png|\.gif)/g.test(e)?a.handleProfilePicToState(e):(a.props.WarningHandler("URL is not not an Image. Please provide a valid Image URL"),document.querySelector(".urlImage").value="")},a.handleChangeEvent=function(e){if(e.target.files[0]&&e.target.files[0].size<512284){var t=URL.createObjectURL(e.target.files[0]);a.handleProfilePicToState(t)}else a.props.WarningHandler("Image Size Too Big!! Please Choose images that are < than 512 KB")},a.handleProfilePicToState=function(e){a.setState({toggleProfile:"Profile",profilePic:e})},a.revealOptions=function(e,t){if("fas fa-hand-point-right"===e.target.className||"54.4px"!==a.state.options.width){var n="calc(100% - 79px)",l="54.4px";"fas fa-hand-point-right"===e.target.className&&"231px"!==a.state.options.width&&(n="calc(100% - 216px)",l="231px"),a.setState({options:{left:n,width:l}})}else["SubmitLink","urlImage","uploadImage"].includes(e.target.className)||a.defaultPage()},a}return Object(b.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=this;document.getElementById("root").addEventListener("click",function(t){"uploadMethods"!==t.target.parentNode.className&&e.revealOptions(t,"window")})}},{key:"checkTouchDevice",value:function(){return"ontouchstart"in document.documentElement}},{key:"render",value:function(){switch(this.state.toggleProfile){case"Computer_Camera":return l.a.createElement("div",{className:"Camera"},l.a.createElement(j.a,{className:"RegisterPic",audio:!1,ref:this.setRef,screenshotFormat:"image/jpeg",width:300,videoConstraints:{width:300,height:300,facingMode:"user"}}),l.a.createElement("span",{onClick:this.capture,className:"takePic"},l.a.createElement("span",null)));case"Phone_Camera":return l.a.createElement(l.a.Fragment,null,l.a.createElement("img",{src:this.state.profilePic,alt:"Avatar",title:"Choose your avatar",id:"picture",className:"demoPic",style:this.props.imgStyle}),l.a.createElement("input",{type:"file",accept:"image/*",capture:"camera",className:"uploadImage"}));case"UploadImage":return l.a.createElement(l.a.Fragment,null,l.a.createElement("img",{src:this.state.profilePic,alt:"Avatar",title:"Choose your avatar",id:"picture",className:"demoPic",style:this.props.imgStyle}),l.a.createElement("input",{type:"file",accept:"image/*",className:"uploadImage"}));case"LinkedImage":return l.a.createElement(l.a.Fragment,null,l.a.createElement("img",{src:this.state.profilePic,alt:"Avatar",title:"Choose your avatar",id:"picture",className:"demoPic",style:this.props.imgStyle}),l.a.createElement("div",{className:"LinkedImage"},l.a.createElement("input",{type:"text",placeholder:"https://..... .jpg",className:"urlImage"}),l.a.createElement("span",{className:"SubmitLink",onClick:this.submitLink},"Done!")));default:return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"uploadMethods",style:this.state.options},l.a.createElement("i",{className:"fas fa-hand-point-right",onClick:this.revealOptions}),l.a.createElement("i",{className:"fas fa-camera-retro",onClick:this.toggleCamera}),l.a.createElement("i",{className:"fas fa-upload",onClick:this.uploadImage}),l.a.createElement("i",{className:"fas fa-link",onClick:this.linkedImage})),l.a.createElement("img",{src:this.state.profilePic,alt:"Avatar",title:"Choose your avatar",id:"picture",style:this.props.imgStyle}))}}}]),t}(n.Component),A=a(64),R=a.n(A)()("https://chatome56.herokuapp.com/"),F=0,G=function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(y.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(l)))).state={avatar:{opacity:0,"margin-top":-230},userNameStyle:{display:"none"},alert:{padding:0}},a.RegisterBox=function(){var e=document.querySelectorAll(".userName, #userLabel"),t=e[0],n=e[1];0===t.offsetHeight?(n.setAttribute("required","required"),alert("I see you want to Register,\n\n You can use a 'FAKE' Email or 'Username'. \n\nI will not collect any information that you provide beyond the use on this application. \n\n Cheers!"),a.setState({avatar:{opacity:1,"margin-top":0},userNameStyle:{display:"block"}})):(n.removeAttribute("required"),a.setState({avatar:{opacity:0,"margin-top":-230},userNameStyle:{display:"none"}}))},a.WarningHandler=function(e){var t=document.getElementById("Alert");return t.innerText=e.replace(/\|/g,"\n"),a.setState({alert:{padding:20}}),setTimeout(function(){t.innerText="",a.setState({alert:{padding:0}})},5e3),!1},a}return Object(b.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){(F+=1)>=2&&window.location.reload()}},{key:"SubmitForm",value:function(){var e=Object(k.a)(C.a.mark(function e(t){var a,n,l;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=document.querySelectorAll("#check1, #picture, #userLabel, #email, #password"),n=null,l={picture:a[0].src.toString(),newCustomer:a[1].checked,userName:a[2].value,email:a[3].value,password:a[4].value},e.next=4,this.ValidateFormData(l);case 4:if(!e.sent){e.next=15;break}if(!0!==l.newCustomer){e.next=11;break}return e.next=8,this.RegisterHandler(l);case 8:n=e.sent,e.next=14;break;case 11:return e.next=13,this.LoginHandler(l);case 13:n=e.sent;case 14:null!==n&&["Login","Register"].includes(n.checkInType)&&(this.props.myDetails(n),this.props.history.push("/chat"));case 15:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"RegisterHandler",value:function(e){var t=this;return w.auth().createUserWithEmailAndPassword(e.email,e.password).then(function(t){delete e.email,delete e.password,delete e.newCustomer;var a=Date.parse(new Date);return Object(i.a)({uuID:t.user.uid},e,{status:"Online",checkInType:"Register",messageKey:(1e3*Math.random()).toString(16).substring().replace(/[.]/g,""),phoneUpdate:a,accountCreatedDATE:a,emailUpdate:a,pictureUpdate:a})}).catch(function(e){return t.WarningHandler(e.message)})}},{key:"LoginHandler",value:function(e){var t=this;return w.auth().signInWithEmailAndPassword(e.email,e.password).then(function(e){return{uuID:e.user.uid,checkInType:"Login"}}).catch(function(e){return t.WarningHandler(e.message)})}},{key:"ValidateFormData",value:function(){var e=Object(k.a)(C.a.mark(function e(t){var a,n;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a="",t.password.replace(" ","").length<6&&(a+="Password must be > 6 char|"),!0===t.newCustomer&&t.userName.length<4&&(a+="User Name must be > 4 char|"),!0!==t.newCustomer){e.next=10;break}return R.emit("FetchUserNames",t.userName),n=new Promise(function(e){R.on("ReturnUserNames",function(t){e(t)})}),e.t0=a,e.next=9,n;case 9:a=e.t0+=e.sent;case 10:if(""===a){e.next=14;break}return e.abrupt("return",this.WarningHandler(a));case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return l.a.createElement("section",{className:"LoginSection"},l.a.createElement("span",{id:"Alert",style:this.state.alert}),l.a.createElement("div",{className:"content container"},l.a.createElement("h3",null,"Welcome to Chatome"),l.a.createElement("form",{onSubmit:function(t){return e.SubmitForm(t)},className:"container d-flex flex-column LoginForm"},l.a.createElement("div",{className:"avatar",style:this.state.avatar},l.a.createElement(T,{imgStyle:this.state.avatar,WarningHandler:this.WarningHandler})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{className:"styled-checkbox",id:"check1",type:"checkbox",onChange:this.RegisterBox}),l.a.createElement("label",{htmlFor:"check1"}," I'm new to this!!!")),l.a.createElement("div",{className:"form-group userName",style:this.state.userNameStyle},l.a.createElement("label",null,"*User Name"),l.a.createElement("input",{type:"text",placeholder:"e.g: Smaff56",id:"userLabel"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"*Email"),l.a.createElement("input",{type:"email",placeholder:"e.g: example@gmail.com",id:"email",required:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"*Password "),l.a.createElement("input",{type:"password",id:"password",required:!0})),l.a.createElement("input",{type:"submit",id:"Submit"}))))}}]),t}(n.Component),L=Object(h.b)(null,function(e){return{myDetails:function(t){e({type:"UPDATE",data:t})}}})(G),U=a(18),H=(a(119),a(120),a(22));a(121);function B(e){var t=e.ChatData,a=e.myUserName,n=e.ImgSrc;console.log("Active Chats");return l.a.createElement(function(){return t?t.map(function(e){var t=Object.keys(e);return e.name!==a?l.a.createElement("li",{className:"replyMessage",key:a+Math.random()},l.a.createElement("time",null,e.timeStamp),l.a.createElement("div",null,l.a.createElement("img",{src:n,id:"userIcon",alt:"IMG"}),l.a.createElement("label",null,e.name),l.a.createElement("div",null,e.message))):l.a.createElement("li",{className:"sentMessage",key:t+Math.random()},l.a.createElement("time",null,e.timeStamp),l.a.createElement("div",null,l.a.createElement("label",null,e.name),l.a.createElement("div",null,e.message)))}):l.a.createElement(l.a.Fragment,null)},null)}function q(e,t){return"SET"===e?function(e){for(var t=Object.keys(e),a=Object.values(e),n=new Date,l="expires="+n.setTime(n.getTime()+864e5),r=0;r<a.length;r++)document.cookie=t[r]+"="+a[r]+";"+l+";path=/";return"Success"}(t):"GET"===e?function(e){for(var t=[],a=0;a<e.length;a++){var n=new RegExp(e[a]+"=([^;]+)"),l=n.exec(document.cookie),l=null!=l?l[1]:null;t.push(l)}return t}(t):void 0}a(122);var W,K=window.openCV;function V(e){"GetElm"===e&&navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices&&setTimeout(function(){W=document.querySelector(".myVideo"),document.querySelector(".recipientVideo"),function(){var e=W.offsetHeight,t=W.offsetWidth;navigator.mediaDevices.getUserMedia({video:{width:200,height:300},audio:!0}).then(function(a){W.srcObject=a,W.play(),!0,new K.Mat(e,t,K.CV_8UC4),new K.Mat(e,t,K.CV_8UC1)}).catch(function(e){return console.log("An error occurred: ".concat(e))})}()},100)}function z(e){var t=e.phoneType,a=e.HandlePhoneCall,n=e.recipientData;return t?(V("GetElm"),l.a.createElement(l.a.Fragment,null,l.a.createElement("video",{className:"myVideo"}),l.a.createElement("canvas",{className:"recipientVideo"}),l.a.createElement("div",{className:"ControlCont"},l.a.createElement("div",null,l.a.createElement("div",{className:"PhoneProfile"},l.a.createElement("img",{src:n.pic}),l.a.createElement("label",null,n.name),l.a.createElement("small",null,"Ringing...")),l.a.createElement("div",{className:"Controls"},l.a.createElement("span",null,l.a.createElement("i",{class:"fas fa-microphone-alt-slash"}),l.a.createElement("label",null,"Mute")),l.a.createElement("span",null,l.a.createElement("i",{class:"fas fa-volume-up"}),l.a.createElement("label",null,"Speaker")),l.a.createElement("span",null,l.a.createElement("i",{className:"fas fa-video"}),l.a.createElement("label",null,"Video")))),l.a.createElement("div",{className:"endCall"},l.a.createElement("span",{onClick:function(){return a("MSG")}},l.a.createElement("i",{className:"fas fa-phone"})))))):l.a.createElement(l.a.Fragment,null)}a(123);var Y=function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(y.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(l)))).state={firstInput:!1,textArea:null,textAreaPos:{top:"calc(100% - 45px)"}},a}return Object(b.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=document.querySelector(".MSGBox");t.addEventListener("drag",function(){e.TextAreaEventAction("drag")}),this.setState({textArea:t})}},{key:"TextAreaEventAction",value:function(e){switch(console.log("Active Text area"),e){case"Input":var t=this.state.textArea.offsetHeight;this.setState({textAreaPos:{top:"calc(100% - "+(t+10)+"px)"}}),console.log(t);break;case"drag":break;default:return!1}}},{key:"render",value:function(){var e=this;return l.a.createElement("form",{className:"userTyping",style:this.state.textAreaPos},l.a.createElement("div",{className:"messageTools"},l.a.createElement("span",{className:"InsertImage"},l.a.createElement("i",{class:"fas fa-chevron-right"})),l.a.createElement("span",{className:"TextArea"},l.a.createElement("div",{className:"MSGBox",contentEditable:"true",onInput:function(){return e.TextAreaEventAction("Input")}},"New Message"),l.a.createElement("i",{className:"fas fa-laugh",id:"emoji"})),l.a.createElement("span",{className:"submitMessage"},l.a.createElement("i",{className:"fas fa-paper-plane",id:"submitMessage"}))))}}]),t}(n.Component),_=function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(y.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(l)))).state={chatRooms:{},myMSGRoom:{},textAreaStyle:{height:"35px"},textHeight:!1,togglePhoneCall:!1,phoneType:null,PhoneCallStyle:{"z-index":"-1"}},a.initialGetMessageFromServer=function(){var e=q("GET",["uuID"])[0],t={checkInType:"Friends",uuID:e,friends:a.props.inboxState.friends};R.emit("GetMessages",t,e),R.on("MSGChannel",function(e,t,n){a.setState({chatRooms:Object(i.a)({},a.state.chatRooms,e)},function(){a.handleLastChats("GetInitialMSG")})})},a.sendMessageToServer=function(e,t,n){var l=a.props.inboxState,r={friend:l.people[l.activeChatID].userName,me:l.people[l.myDataID].userName},s={message:document.querySelector("#userMessage").value,checkInType:"Register",messageKey:t,name:e,recipient:r.friend,uuID:q("GET",["uuID"])[0],timeStamp:Date.parse(new Date)};if(""!==s.message.trim()&&s.message.length<=3e3){console.log("Sending"),R.emit("SendMessage",s,s.uuID,r),delete s.uuID,delete s.messageKey,delete s.checkInType;var c=a.state.myMSGRoom[n];c=c||[],a.setState({myMSGRoom:Object(i.a)({},a.state.myMSGRoom,Object(H.a)({},n,[].concat(Object(U.a)(c),[s])))},function(){a.handleLastChats("GetLocalMSG")})}},a.getFriendMessage=function(e){R.emit("UserDetails",e),R.on(e.roomID,function(e){var t=e.messageKey;if(t){var n=a.props.inboxState.myDataID,l=a.props.inboxState.people[n].messageKey,r=t.replace(l,""),s=r+l,c=l+r,o=a.state.myMSGRoom[s],m=a.state.myMSGRoom[c],u=[],p="",g=a.state.chatRooms[t];g=g||[],o?(u=o,p=s):m&&(u=m,p=c),delete e.uuID,delete e.messageKey,delete e.checkInType,a.setState({chatRooms:Object(i.a)({},a.state.chatRooms,Object(H.a)({},t,[].concat(Object(U.a)(g),Object(U.a)(u),[e]))),myMSGRoom:Object(i.a)({},a.state.myMSGRoom,Object(H.a)({},p,[]))},function(){a.handleLastChats("GetFriendsMSG")})}})},a.handleLastChats=function(e){for(var t={},n=a.props.inboxState,l=n.people[n.myDataID].userName,r=["GetFriendsMSG","GetInitialMSG"].includes(e)?"chatRooms":"myMSGRoom",s=0,c=Object.keys(a.state[r]);s<c.length;s++){var o=c[s],m=a.state[r][o],u=m[m.length-1];if(u&&(u.recipient===l||u.name===l))t[u.recipient===l?u.name:u.recipient]=u}switch(e){case"GetInitialMSG":a.props.latestChats(t);var p=n.myDataID,g={myName:n.people[p].userName,roomID:R.id,id:p,uuID:q("GET",["uuID"])[0]};a.getFriendMessage(g);break;default:document.querySelector("#userMessage").value="",a.props.latestChats(Object(i.a)({},a.props.profileDetails.latestChats,t))}},a.HandlePhoneCall=function(e){var t=!a.state.togglePhoneCall,n="-1"===a.state.PhoneCallStyle["z-index"]?"3":"-1";a.setState({togglePhoneCall:t,phoneType:e,PhoneCallStyle:{"z-index":n}})},a}return Object(b.a)(t,e),Object(v.a)(t,[{key:"componentWillMount",value:function(){this.initialGetMessageFromServer()}},{key:"componentDidUpdate",value:function(){console.log("object"),"MessagingBoard"===this.props.inboxState.toggleType&&this.messageScroll()}},{key:"messageScroll",value:function(){var e=document.querySelector(".msgDashboard");e.scrollTop=e.scrollHeight}},{key:"render",value:function(){var e=this,t=this.props.inboxState,a=this.props.togglePage,n=(this.state.textAreaStyle,t.activeChatID),r="",s="",c=t.myDataID,i="",o="",m="";if(null!==n){r=t.people[n].userName,s=t.people[n].picture;var u=t.people[n].messageKey,p=t.people[c].messageKey,g=u+p,d=p+u;m=this.state.chatRooms[g]?g:d,o=t.people[c].userName;if(!(i=this.state.chatRooms[m])){var f=m.split(p);m=""===f[0]?p+"|"+f[1]:f[1]+"|"+p,i=[]}var h=this.state.myMSGRoom[d];h=h||[],i=[].concat(Object(U.a)(i),Object(U.a)(h))}return"MessagingBoard"===t.toggleType?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"MessagingBoard"},l.a.createElement("div",{className:"Header"},l.a.createElement("i",{className:"fas fa-chevron-left",onClick:function(){return a("Messages")}}),l.a.createElement("div",{className:"MSGheader1"},l.a.createElement("div",{className:"msgPic"},l.a.createElement("img",{src:s,alt:"User"}),l.a.createElement("span",{id:"status"})),l.a.createElement("div",null,l.a.createElement("span",null,r),l.a.createElement("time",null,"Now Active"))),l.a.createElement("div",{className:"header2"},l.a.createElement("i",{className:"fas fa-phone",onClick:function(){return e.HandlePhoneCall("phone")}}),l.a.createElement("i",{className:"fas fa-video",onClick:function(){return e.HandlePhoneCall("video")}}))),l.a.createElement("ul",{className:"msgDashboard"},l.a.createElement(B,{ChatData:i,myUserName:o,ImgSrc:s})),l.a.createElement(Y,null)),l.a.createElement("div",{className:"PhoneCallPhoneCall",style:this.state.PhoneCallStyle},l.a.createElement(z,{recipientData:{name:r,pic:s},phoneType:this.state.phoneType,HandlePhoneCall:this.HandlePhoneCall}))):l.a.createElement(l.a.Fragment,null)}}]),t}(n.Component),Q=Object(h.b)(function(e){return{profileDetails:Object(i.a)({},e.ProfileDB)}},function(e){return{latestChats:function(t){e({type:"LATESTCHATS",stutas:t})}}})(_);function J(e){var t,a=e.people,n=e.togglePage,r=e.myDataID,s=e.latestChats,c=a[r].userName,i="",o="",m={};return l.a.createElement(function(){return a.map(function(e){if(i="Say hello to ".concat(e.userName),o=" ",t="Online"===e.status?"status":"",m={"font-weight":"600",color:"rgba(58, 66, 79,.9)"},e.ID!==r){if(void 0!==s&&s[e.userName]){var a=s[e.userName];a.recipient===c?i=" "+a.message:(m={},i="You: "+a.message)}return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"Person",messagekey:e.messageKey,onClick:function(){return n("MessagingBoard",e.ID)}},l.a.createElement("span",{id:"ProfilePic"},l.a.createElement("img",{src:e.picture,alt:"IMG"}),l.a.createElement("span",{id:t})),l.a.createElement("div",{className:"details"},l.a.createElement("h4",null,e.userName),l.a.createElement("p",{style:m},i)),l.a.createElement("time",null,o)))}return l.a.createElement(l.a.Fragment,null)})},null)}function Z(e){console.log("Active Stories");return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"DailySnap addStory"},l.a.createElement("i",{class:"fas fa-plus"}),l.a.createElement("label",null,"Your Story")),l.a.createElement(function(e){return[].map(function(e){return l.a.createElement("div",{className:"DailySnap"},l.a.createElement("img",{src:"##",alt:"name"}),l.a.createElement("label",null,"---"))})},null))}var $=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"Person"},l.a.createElement("div",{className:"details"},l.a.createElement("h4",null,"Email"),l.a.createElement("p",null,"------------")),l.a.createElement("i",{class:"fas fa-pen"})),l.a.createElement("div",{className:"Person"},l.a.createElement("div",{className:"details"},l.a.createElement("h4",null,"Phone"),l.a.createElement("p",null,"------------")),l.a.createElement("i",{class:"fas fa-pen"})),l.a.createElement("div",{className:"Person"},l.a.createElement("div",{className:"details"},l.a.createElement("h4",null,"Gender"),l.a.createElement("p",null,"-------")),l.a.createElement("i",{class:"fas fa-pen"})),l.a.createElement("div",{className:"Person"},l.a.createElement("div",{className:"details"},l.a.createElement("h4",null,"Your Age"),l.a.createElement("p",null,"--")),l.a.createElement("i",{class:"fas fa-pen"})),l.a.createElement("div",{className:"Person"},l.a.createElement("div",{className:"details"},l.a.createElement("h4",null,"Allow Calls"),l.a.createElement("p",null,"Yes")),l.a.createElement("i",{class:"fas fa-pen"})),l.a.createElement("div",{className:"Person"},l.a.createElement("div",{className:"details"},l.a.createElement("h4",null,"Make Profile Public"),l.a.createElement("p",null,"Yes")),l.a.createElement("i",{class:"fas fa-pen"})))};a(124),a(58);function X(e){var t=e.people,a=e.togglePage,n=e.myDataID;return l.a.createElement(function(){try{return t.map(function(e){return e.ID!==n&&"Online"===e.status?l.a.createElement("div",{className:"onlinePeople"},l.a.createElement("div",{key:Math.random(),className:"Onlineperson",onClick:function(){return a("MessagingBoard",e.ID)}},l.a.createElement("img",{src:e.picture}),l.a.createElement("span",{id:"status"}))):l.a.createElement(l.a.Fragment,null)})}catch(e){return l.a.createElement(l.a.Fragment,null,"Erro")}},null)}var ee=a(65),te=a.n(ee),ae=function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(y.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(l)))).state={myDataID:null,people:null,stories:null,activeChatID:null,toggleType:"Messages",ProfileStyle:{color:"#8486a2"},StoriesStyle:{color:"#8486a2"},MainPageStyle:{color:"white"}},a.getUsersProfileDATA=function(e){var t=e.uuID;R.emit("getUsersProfileDATA",e,t),R.on("returnUsersProfileDATA",function(e,t){if("None"===t)a.setState(Object(i.a)({},a.state,e));else if("Broadcast"===t){console.log(e);var n=a.state.people;n[e.ID]=e,a.setState({people:Object(U.a)(n)})}})},a.togglePage=function(e,t){switch(e){case"MessagingBoard":a.setState({toggleType:e,activeChatID:t});break;case"MainPage":case"Messages":a.setState({toggleType:e,ProfileStyle:{color:"#8486a2"},StoriesStyle:{color:"#8486a2"},MainPageStyle:{color:"white"}});break;case"Stories":a.setState({toggleType:e,ProfileStyle:{color:"#8486a2"},StoriesStyle:{color:"white"},MainPageStyle:{color:"#8486a2"}});break;case"Profile":a.setState({toggleType:e,ProfileStyle:{color:"white"},StoriesStyle:{color:"#8486a2"},MainPageStyle:{color:"#8486a2"}})}},a}return Object(b.a)(t,e),Object(v.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props.myDetails;if(0!==Object.keys(t).length)q("SET",Object(i.a)({},t));else{var a=q("GET",["uuID","checkInType"]);null!==a[0]||null!==a[1]?t={uuID:a[0],checkInType:"Login"}:this.props.history.push("/")}this.getUsersProfileDATA(t),R.on("UserOffline",function(t){var a=e.state.people;a&&(a[t].status="Offline",e.setState({people:a}))})}},{key:"render",value:function(){var e=this;if(this.state.people){var t=this.state.myDataID,a=this.state.people[t].picture,n=this.state.people[t].userName,r=function(){return l.a.createElement(l.a.Fragment,null)},s=function(){return l.a.createElement(l.a.Fragment,null)},c=function(){return l.a.createElement(l.a.Fragment,null)},o=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",null,l.a.createElement("i",{className:"fas fa-comment",id:"Messages",style:e.state.MainPageStyle,onClick:function(t){return e.togglePage("Messages",t)}})),l.a.createElement("i",{className:"fas fa-compass",id:"Stories",style:e.state.StoriesStyle,onClick:function(t){return e.togglePage("Stories",t)}}),l.a.createElement("i",{className:"fas fa-user-cog",id:"Profile",style:e.state.ProfileStyle,onClick:function(t){return e.togglePage("Profile",t)}}))};switch(this.state.toggleType){case"MessagingBoard":o=function(){return l.a.createElement(l.a.Fragment,null)};break;case"Stories":s=function(){return l.a.createElement("div",{className:"Stories",style:e.state.stories},l.a.createElement(Z,null))};break;case"Profile":c=function(){return l.a.createElement("div",{className:"YourProfileInfor"},l.a.createElement("div",{className:"myDetails"},l.a.createElement("img",{src:a,id:"userPicture",alt:"IMG"}),l.a.createElement("span",{className:"editImg"},l.a.createElement("i",{className:"fas fa-user-edit"})),l.a.createElement("span",{className:"userName"},n)),l.a.createElement("div",{className:"MoreDetail"},l.a.createElement($,null)))};break;default:r=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(J,{togglePage:e.togglePage,people:e.state.people,myDataID:e.state.myDataID,latestChats:e.props.latestChats}))}}return l.a.createElement("section",{className:"UserInterface"},l.a.createElement("div",{className:"Profile"},l.a.createElement("div",{className:"scollArea"},l.a.createElement("div",{className:"Header"},l.a.createElement("div",{className:"headerCont"},l.a.createElement("div",{className:"header1"},l.a.createElement("span",{id:"LogoDescription"},this.state.toggleType)),l.a.createElement("div",{className:"header2"},l.a.createElement("i",{className:"fas fa-camera-retro"}),l.a.createElement("i",{className:"fas fa-feather-alt"}))),l.a.createElement("div",{className:"OnlineCont"},l.a.createElement(function(){var t=function(){return l.a.createElement(l.a.Fragment,null)},a=function(){return l.a.createElement(l.a.Fragment,null)};return"Messages"===e.state.toggleType&&(t=function(){return l.a.createElement(X,{togglePage:e.togglePage,people:e.state.people,myDataID:e.state.myDataID})}),["Messages","Stories"].includes(e.state.toggleType)&&(a=function(){return l.a.createElement("input",{type:"search",placeholder:"Search by name"})}),l.a.createElement(l.a.Fragment,null,l.a.createElement(t,null),l.a.createElement(a,null))},null))),l.a.createElement("div",{className:"inboxSection"},l.a.createElement(r,null)),l.a.createElement(s,null),l.a.createElement(c,null))),l.a.createElement("div",{className:"navFooter"},l.a.createElement(o,null)),l.a.createElement(Q,{inboxState:Object(i.a)({},this.state),style:this.state.inboxToMessage,togglePage:this.togglePage,activeChatID:this.state.activeChatID}))}return l.a.createElement("div",{id:"Loader"},l.a.createElement("img",{src:te.a}),l.a.createElement("small",null,"Loading..."))}}]),t}(n.Component),ne=Object(h.b)(function(e){return{myDetails:Object(i.a)({},e.ProfileDB),latestChats:e.ProfileDB.latestChats}},function(e){return{myProfileDetails:function(t){e({type:"UPDATE",data:t})}}})(ae),le=function(e){function t(){return Object(E.a)(this,t),Object(y.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return l.a.createElement(N.a,null,l.a.createElement(P.c,null,l.a.createElement(P.a,{exact:!0,path:"/login",component:L}),l.a.createElement(P.a,{path:"/chat",component:ne}),l.a.createElement(P.a,{path:"/",component:L})))}}]),t}(n.Component),re=Object(c.c)(f);s.a.render(l.a.createElement(h.a,{store:re},l.a.createElement(le,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},63:function(e,t,a){e.exports=a.p+"static/media/defaultPic.6bc46237.jpeg"},65:function(e,t,a){e.exports=a.p+"static/media/Loader.aabf6174.gif"},68:function(e,t,a){e.exports=a(130)},77:function(e,t,a){},79:function(e,t,a){},89:function(e,t,a){}},[[68,1,2]]]);
//# sourceMappingURL=main.2724fdb3.chunk.js.map